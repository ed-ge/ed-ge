!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="gameObject")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return i(this,e),c(this,a(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(o=[{key:"start",value:function(){}},{key:"update",value:function(){}}])&&u(n.prototype,o),r&&u(n,r),e}(o);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"children",[]),p(this,"name",""),this.name=e}var e,n,o;return e=t,(n=[{key:"destroy",value:function(t){for(var e=!1,n=0;n<this.children.length&&!e;n++){var o=this.children[n];o==t&&(e=!0,o.onDestroy&&o.onDestroy())}if(e)return this.children=this.children.filter((function(e){return e!=t})),!0;for(var r=0;r<this.children.length&&!e;r++)if(this.children[r].destroy(t))return!0;return!1}}])&&s(e.prototype,n),o&&s(e,o),t}();function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,t),this.x=e,this.y=n}var e,n,o;return e=t,(n=[{key:"distance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t(0,0);return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t(0,0),n=this.x-e.x,o=this.y-e.y;return n*n+o*o}},{key:"diff",value:function(e){return new t(this.x-e.x,this.y-e.y)}}])&&h(e.prototype,n),o&&h(e,o),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=w(this,g(e).call(this))).anchorHorizontal=t.constructor.CENTER,t.anchorVertical=t.constructor.MIDDLE,t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,t),n=e,(o=[{key:"update",value:function(){}}])&&d(n.prototype,o),r&&d(n,r),e}(o);j(S,"LEFT","left"),j(S,"CENTER","center"),j(S,"RIGHT","right"),j(S,"TOP","top"),j(S,"MIDDLE","middle"),j(S,"BOTTOM","bottom");var _=S;function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?T(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;C(this,e),M(T(t=k(this,E(e).call(this))),"x",void 0),M(T(t),"y",void 0),M(T(t),"scaleX",void 0),M(T(t),"scaleY",void 0),M(T(t),"rotation",void 0),M(T(t),"components",[]);var c=[n,o,r,i,u];return t.x=c[0],t.y=c[1],t.scaleX=c[2],t.scaleY=c[3],t.rotation=c[4],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,t),B(e,[{key:"location",get:function(){return new m(this.x,this.y)}}]),B(e,[{key:"addComponent",value:function(t){this.components.push(t),t.gameObject=this}},{key:"draw",value:function(t){if(t.save(),this.anyComponent("RectTransform")){var e=this.getComponent("RectTransform"),n=t.canvas.width,o=t.canvas.height,r=0,i=0;e.anchorHorizontal==_.CENTER?r=n/2:e.anchorHorizontal==_.RIGHT&&(r=n),e.anchorVertical==_.MIDDLE?i=o/2:e.anchorVertical==_.BOTTOM&&(i=o),t.translate(r,i)}t.translate(this.x,this.y),t.scale(this.scaleX,this.scaleY),t.rotate(this.rotation),this.components.filter((function(t){return t.draw})).forEach((function(e){return e.draw(t)})),this.children.filter((function(t){return t.draw})).forEach((function(e){return e.draw(t)})),t.restore()}},{key:"update",value:function(){this.components.filter((function(t){return t.update})).forEach((function(t){return t.update()})),this.children.forEach((function(t){return t.update()}))}},{key:"getComponent",value:function(t){if("string"==typeof t||t instanceof String){var e=this.components.find((function(e){return e.constructor.name===t}));if(e)return e;throw"Error, couldn't find type "+t}var n=this.components.find((function(e){return e instanceof t}));if(n)return n;throw"Error, couldn't find type "+t}},{key:"anyComponent",value:function(t){return"string"==typeof t||t instanceof String?!!this.components.find((function(e){return e.constructor.name===t})):!!this.components.find((function(e){return e instanceof t}))}},{key:"recursiveCall",value:function(t){for(var e=0;e<this.components.length;e++){var n=this.components[e];n[t]&&n[t]()}for(var o=0;o<this.children.length;o++){this.children[o].recursiveCall(t)}}}]),e}(y);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,I(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,t),e}(o);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,V(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,t),e}(A);function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"swapUpDownArrays",value:function(){this.frameDown=this.down,this.frameUp=this.up,this.down=[],this.up=[],this.frameMouseButtonsDown=this.mouseButtonsDown,this.frameMouseButtonsUp=this.mouseButtonsUp,this.frameScrollDelta=this.mouseScrollDelta,this.mouseScrollDelta=0,this.mouseButtonsDown=[],this.mouseButtonsUp=[]}},{key:"getKeyUp",value:function(t){return this.frameUp[t]}},{key:"getKeyDown",value:function(t){return this.frameDown[t]}},{key:"getKey",value:function(t){return this.keys[t]}},{key:"getMouseButtonUp",value:function(t){return this.frameMouseButtonsUp[t]}},{key:"getMouseButtonDown",value:function(t){return this.frameMouseButtonsDown[t]}},{key:"getMouseButton",value:function(t){return this.mouseButtons[t]}},{key:"getMouseScrollWheel",value:function(){return this.frameScrollDelta}}],(n=null)&&N(e.prototype,n),o&&N(e,o),t}();G(K,"keys",[]),G(K,"down",[]),G(K,"up",[]),G(K,"frameDown",[]),G(K,"frameUp",[]),G(K,"mouseButtons",[]),G(K,"mouseButtonsDown",[]),G(K,"mouseButtonsUp",[]),G(K,"frameMouseButtonsDown",[]),G(K,"frameMouseButtonsUp",[]),G(K,"mousePosition",{x:0,y:0}),G(K,"mouseScrollDelta",0),G(K,"frameScrollDelta",void 0);var W=K;function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Q(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Q(this,Z(e).call(this,t))).start(),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,t),n=e,r=[{key:"parse",value:function(t){var n=new e(t.name);return n.objects=t.objects,n}}],(o=[{key:"start2",value:function(){if(this.children=[],this.objects){this.children=[];for(var t=0;t<this.objects.length;t++){var e=this.objects[t];this.buildChild2(e,this.children)}}}},{key:"start",value:function(){if(this.children=[],this.objects){this.children=[];for(var t=0;t<this.objects.length;t++){var e=this.objects[t];this.buildChild(e,this.children)}}}},{key:"buildChild2",value:function(t,n){for(var o=null,r=Object.keys(e.gameObjects),i=0;i<r.length;i++){var u=r[i];if(u==t.type){o=e.gameObjects[u];break}}if(null==o)throw"Could now find game object of type "+t.type;t.scale||(t.scale={},t.scale.x=1,t.scale.y=1),t.rotation||(t.rotation=0);var c=this.instantiate(o,new m(t.location.x,t.location.y),new m(t.scale.x,t.scale.y),t.rotation,n);c.name=t.name,this.buildIt(t,c)}},{key:"buildIt",value:function(t,n){if(t.children)for(var o=0;o<t.children.length;o++){var r=t.children[o];this.buildChild2(r,n.children)}if(t.componentValues)for(var i=0;i<t.componentValues.length;i++)for(var u=t.componentValues[i],c=u.type,a=n.getComponent(c),l=u.values,f=0;f<l.length;f++){var s=l[f];a[s.key]=s.value}if(t.components)for(var p=0;p<t.components.length;p++){for(var y=t.components[p],b=y.type,h=null,m=Object.keys(e.components),v=Object.keys(e.gameBehaviors),d=0;d<m.length;d++){var w=m[d];if(w==b){h=e.components[w];break}}if(null==h)for(var g=0;g<v.length;g++){var O=v[g];if(O==b){h=e.gameBehaviors[O];break}}if(null==h)throw"Could not find component "+b;var j=new h;if(n.addComponent(j),y.values)for(var S=y.values,_=0;_<S.length;_++){var P=S[_],C=P.key,k=P.value;j[C]=k}j.start&&j.start()}}},{key:"buildChild",value:function(t,e){var n=this.instantiate(t.type,t.location,new m(1,1),0,e);if(n.name=t.name,t.children)for(var o=0;o<t.children.length;o++){var r=t.children[o];this.buildChild(r,n.children)}if(t.componentValues)for(var i=0;i<t.componentValues.length;i++)for(var u=t.componentValues[i],c=u.type,a=n.getComponent(c),l=u.values,f=0;f<l.length;f++){var s=l[f];a[s.key]=s.value}if(t.components)for(var p=0;p<t.components.length;p++){var y=new t.components[p].type;n.addComponent(y)}}},{key:"draw",value:function(t,e,n){var o,r,i,u,c,a,l;t.save();var f=this.children.filter((function(t){return t.anyComponent("CameraComponent")}));if(0==f.length)t.fillStyle="cyan",t.fillRect(0,0,e,n),o=0,r=0,i=1,u=1,c=0,a=0,l=0;else{f.length>1&&console.log("More than 1 camera detected in the scene. You should only have exactly one root game object with a camera component attached.");var s=f[0],p=s.getComponent("CameraComponent");t.fillStyle=p.backgroundColor,t.fillRect(0,0,e,n),o=s.x,r=s.y,i=s.scaleX,u=s.scaleY,c=s.rotation,a=e/2,l=n/2}t.translate(a,l),t.rotate(c),t.scale(i,u),t.translate(-o,-r),this.children.filter((function(t){return t.draw&&!t.anyComponent("CanvasComponent")})).forEach((function(e){return e.draw(t)})),t.restore(),t.save();var y=this.children.filter((function(t){return t.anyComponent("CanvasComponent")}));0==y.length||(y.length>1&&console.log("More than 1 canvas object found in the root of your scene graph. You should only have exactly one game object with a canvas component. The other object(s) and its children will not be rendered."),y[0].draw(t)),t.restore()}},{key:"update",value:function(t,e,n){this.children.filter((function(t){return t.update})).forEach((function(t){return t.update()}));var o=[];this.getCollidable(this,o,e);for(var r=0;r<o.length;r++)for(var i=r+1;i<o.length;i++)if(n.inCollision(o[r],o[i])){for(var u=o[r].gameObject,c=o[i].gameObject,a=0;a<u.components.length;a++){var l=u.components[a];l.onCollisionStay&&l.onCollisionStay(o[i])}for(var f=0;f<c.components.length;f++){var s=c.components[f];s.onCollisionStay&&s.onCollisionStay(o[r])}}var p=this.children.filter((function(t){return t.anyComponent("CameraComponent")})),y={x:0,y:0};if(y.x=parseInt(W.mousePosition.x),y.y=parseInt(W.mousePosition.y),0==p.length);else{var b=p[0],h=(b.getComponent("CameraComponent"),b.x),m=b.y,v=b.scaleX,d=b.scaleY,w=(b.rotation,t.canvas.width/2),g=t.canvas.height/2,O=y.x,j=y.y;O-=w,j-=g,O/=v,j/=d,O+=h,j+=m,y.x=O,y.y=j}var S={};S.gameObject=new R,S.gameObject.x=y.x,S.gameObject.y=y.y,S.collider=new z;for(var _=0;_<o.length;_++)if(n.inCollision(o[_],S))for(var P=o[_].gameObject,C=0;C<P.components.length;C++){var k=P.components[C];k.onMouseOver&&k.onMouseOver(),k.onMouseDown&&W.getMouseButtonDown(0)&&k.onMouseDown()}}},{key:"getCollidable",value:function(t,e,n){if(t.getComponent)try{var o=t.getComponent(n);o&&e.push({collider:o,gameObject:t})}catch(t){}for(var r=0;r<t.children.length;r++){var i=t.children[r];this.getCollidable(i,e,n)}}},{key:"instantiate",value:function(t,n,o,r,i){var u=new R(n.x,n.y,o.x,o.y,r);i.push(u);var c=e.gameObjects[t.name];return this.buildIt(c,u),u.name=c.name,u.recursiveCall("start"),u}}])&&J(n.prototype,o),r&&J(n,r),e}(y);tt(et,"gameObjects",[]),tt(et,"components",[]),tt(et,"gameBehaviors",[]);var nt=et;var ot,rt,it,ut=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};it=0,(rt="deltaTime")in(ot=ut)?Object.defineProperty(ot,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=it;var ct={Behavior:f,Component:o,GameObject:R,Scene:nt,Time:ut,Input:W,NameableParent:y,Point:m};function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=ft(e).call(this))||"object"!==at(o)&&"function"!=typeof o?st(n):o,yt(st(t),"radius",void 0),yt(st(t),"fill",void 0),yt(st(t),"stroke",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,t),n=e,(o=[{key:"draw",value:function(t){t.save(),t.fillStyle=this.fill,t.strokeStyle=this.stroke,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI),t.fill(),t.stroke(),t.restore()}},{key:"update",value:function(){}}])&&lt(n.prototype,o),r&&lt(n,r),e}(ct.Component);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=vt(e).call(this))||"object"!==ht(o)&&"function"!=typeof o?dt(n):o,gt(dt(t),"width",void 0),gt(dt(t),"height",void 0),gt(dt(t),"fill",void 0),gt(dt(t),"stroke",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,t),n=e,(o=[{key:"draw",value:function(t){t.save(),t.translate(-this.width/2,-this.height/2),t.fillStyle=this.fill,t.strokeStyle=this.stroke,t.fillRect(0,0,this.width,this.height),t.strokeRect(0,0,this.width,this.height),t.restore()}},{key:"update",value:function(){}}])&&mt(n.prototype,o),r&&mt(n,r),e}(ct.Component);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Et=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=_t(e).call(this))||"object"!==jt(o)&&"function"!=typeof o?Pt(n):o,kt(Pt(t),"text",void 0),kt(Pt(t),"font",void 0),kt(Pt(t),"fill",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,t),n=e,(o=[{key:"draw",value:function(t){t.save(),t.fillStyle=this.fill,t.font=this.font,t.fillText(this.text,0,0),t.restore()}},{key:"update",value:function(){}}])&&St(n.prototype,o),r&&St(n,r),e}(ct.Component);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=xt(e).call(this))||"object"!==Tt(o)&&"function"!=typeof o?Bt(n):o,function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Bt(t),"radius",0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,t),e}(A);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var At=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=Yt(e).call(this))||"object"!==Rt(o)&&"function"!=typeof o?Xt(n):o,Ut(Xt(t),"width",void 0),Ut(Xt(t),"height",void 0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),e}(A);function Lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ht=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"inCollision",value:function(t,e){if(t.collider instanceof Mt&&e.collider instanceof z)return t.gameObject.location.distance(e.gameObject.location)<t.collider.radius;if(t.collider instanceof z&&e.collider instanceof Mt)return this.inCollision(e,t);if(t.collider instanceof At&&e.collider instanceof z){var n=t.gameObject.location.diff(e.gameObject.location);return Math.abs(n.x)<t.collider.width/2&&Math.abs(n.y)<t.collider.height/2}return t.collider instanceof z&&e.collider instanceof At?this.inCollision(e,t):t.collider instanceof Mt&&e.collider instanceof Mt?t.gameObject.location.distance(e.gameObject.location)<+t.collider.radius+ +e.collider.radius:void 0}}],(n=null)&&Lt(e.prototype,n),o&&Lt(e,o),t}();function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=zt(e).call(this))||"object"!==Vt(o)&&"function"!=typeof o?Nt(n):o,Kt(Nt(t),"points",[]),Kt(Nt(t),"pointAX",void 0),Kt(Nt(t),"pointAY",void 0),Kt(Nt(t),"pointBX",void 0),Kt(Nt(t),"pointBY",void 0),Kt(Nt(t),"pointCX",void 0),Kt(Nt(t),"pointCY",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,t),n=e,(o=[{key:"update",value:function(){0==this.points.length&&(this.points=[new Base.Point(this.pointAX,this.pointAY),new Base.Point(this.pointBX,this.pointBY),new Base.Point(this.pointCX,this.pointCY)])}}])&&qt(n.prototype,o),r&&qt(n,r),e}(A);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jt(this,Qt(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,t),e}(A);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ue=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=ne(e).call(this))||"object"!==te(o)&&"function"!=typeof o?oe(n):o,ie(oe(t),"points",[]),ie(oe(t),"pointAX",void 0),ie(oe(t),"pointAY",void 0),ie(oe(t),"pointBX",void 0),ie(oe(t),"pointBY",void 0),ie(oe(t),"pointCX",void 0),ie(oe(t),"pointCY",void 0),ie(oe(t),"fill",void 0),ie(oe(t),"stroke",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,t),n=e,(o=[{key:"draw",value:function(t){0!=this.points.length&&(t.save(),t.fillStyle=this.fill,t.strokeStyle=this.stroke,t.beginPath(),t.moveTo(+this.points[0].x,+this.points[0].y),t.lineTo(+this.points[1].x,+this.points[1].y),t.lineTo(+this.points[2].x,+this.points[2].y),t.closePath(),t.fill(),t.stroke(),t.restore())}},{key:"update",value:function(){0==this.points.length&&(this.points=[new ct.Point(this.pointAX,this.pointAY),new ct.Point(this.pointBX,this.pointBY),new ct.Point(this.pointCX,this.pointCY)])}}])&&ee(n.prototype,o),r&&ee(n,r),e}(ct.Component);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pe=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(o=le(e).call(this))||"object"!==ce(o)&&"function"!=typeof o?fe(n):o,function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(fe(t),"backgroundColor",void 0),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,t),n=e,(o=[{key:"update",value:function(){}}])&&ae(n.prototype,o),r&&ae(n,r),e}(ct.Component);function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function he(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var de=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),he(this,me(e).call(this))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(e,t),n=e,(o=[{key:"update",value:function(){}}])&&be(n.prototype,o),r&&be(n,r),e}(ct.Component),we={Base:ct,Components:{CircleComponent:bt,RectangleComponent:Ot,TextComponent:Et,CircleCollider:Mt,Point:z,Collider:A,CollisionHelper:Ht,AABBCollider:At,TriangleCollider:Wt,ConvexCollider:$t,TriangleComponent:ue,CameraComponent:pe,CanvasComponent:de,RectTransform:_}};we.Base.Scene.gameObjects=gameObjects,we.Base.Scene.components=we.Components,we.Base.Scene.gameBehaviors=gameBehaviors,scenes.allScenes.forEach((function(t){return sceneManager.addScene(we.Base.Scene.parse(t))})),sceneManager.currentScene=scenes.startScene,document.body.addEventListener("keydown",(function(t){1!=ge.keys[t.key]&&(ge.down[t.key]=!0);ge.keys[t.key]=!0})),document.body.addEventListener("keyup",(function(t){0!=ge.keys[t.key]&&(ge.up[t.key]=!0);ge.keys[t.key]=!1})),document.body.addEventListener("keypress",(function(t){})),document.body.addEventListener("mousedown",(function(t){1!=ge.mouseButtons[t.button]&&(ge.mouseButtonsDown[t.button]=!0);ge.mouseButtons[t.button]=!0})),document.body.addEventListener("mouseup",(function(t){0!=ge.mouseButtons[t.button]&&(ge.mouseButtonsUp[t.button]=!0);ge.mouseButtons[t.button]=!1})),document.body.addEventListener("mousemove",(function(t){var e=[t.clientX,t.clientY];ge.mousePosition.x=e[0],ge.mousePosition.y=e[1]})),document.body.addEventListener("wheel",(function(t){0!=t.deltaY&&(ge.mouseScrollDelta=t.deltaY)})),document.body.addEventListener("contextmenu",(function(t){null!=t.preventDefault&&t.preventDefault();null!=t.stopPropagation&&t.stopPropagation();return!1}));var ge=we.Base.Input;var Oe,je,Se=document.getElementById("canv");function _e(){Se.style.width=window.innerWidth+"px",setTimeout((function(){Se.style.height=window.innerHeight+"px"}),0),Se.width=window.innerWidth,Se.height=window.innerHeight}function Pe(){var t;ge.swapUpDownArrays(),sceneManager.currentScene.update(je,we.Components.Collider,we.Components.CollisionHelper),t=je,sceneManager.currentScene.draw(t,Oe.width,Oe.height)}window.onresize=_e,_e(),Oe=document.querySelector("#canv"),je=Oe.getContext("2d"),setInterval(Pe,33)}]);