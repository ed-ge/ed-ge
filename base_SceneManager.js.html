<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: base/SceneManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: base/SceneManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Scene from "./Scene.js"
// import Globals from "./Globals.js"

const SceneManager = {
  /** Orginally from scene */
  
  scenes: [],
  Base:{},

  
  _currentSceneIndex: -1,

  

  get currentScene() {
    if (this._currentSceneIndex == -1) throw "Current scene index not set. Cannot get current scene."
    if (this.scenes.length == 0) throw "There are no scenes in the scene manager. Cannot get current scene."
    if (this._currentSceneIndex >= this.scenes.length) throw "Current scene index is out of bounds. Cannot get current scene."
    return this.scenes[this._currentSceneIndex];
  },

  set currentScene(argument) {
    if (argument instanceof Scene) {
      let index = this.scenes.indexOf(argument);
      if (index != -1) {
        this._currentSceneIndex = index;
      }
      else {
        this.scenes.push(argument);
        this._currentSceneIndex == this.scenes.length - 1;
      }
    }
    else {
      if (typeof argument === "string") {
        let index = this.scenes.findIndex(i => i.name == argument);
        if (index != -1) {
          this._currentSceneIndex = index;
        }
        else throw "No scene has that name. Current scene index not set."
      }
      else {
        let index = +argument;
        if (index &lt; 0) throw "Index is out of bounds. Current scene index not set."
        if (index >= this.scenes.length) throw "Index is out of bounds. Current scene index not set."
        this._currentSceneIndex = +argument;
      }
    }
    this.scenes[this._currentSceneIndex].boot();
  },
  clearScenes(){
    this.scenes = [];
    this.currentSceneIndex = -1;
  },

  addScene(scene) {
    this.scenes.push(scene);
  },

  destroy(gameObject) {
    this.currentScene.destroy(gameObject);
  },
  instantiate(gameObjectType, location, scale, rotation) {
    return this.Base.Serializer.instantiate(gameObjectType, location, scale, rotation, this.currentScene);
    // return this.currentScene.instantiate(gameObjectType, location, scale, rotation, this.currentScene);
  }


}

export default SceneManager;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AABBCollider.html">AABBCollider</a></li><li><a href="Behavior.html">Behavior</a></li><li><a href="CameraComponent.html">CameraComponent</a></li><li><a href="CanvasComponent.html">CanvasComponent</a></li><li><a href="Component.html">Component</a></li><li><a href="ConvexCollider.html">ConvexCollider</a></li><li><a href="GameObject.html">GameObject</a></li><li><a href="Line.html">Line</a></li><li><a href="NameableParent.html">NameableParent</a></li><li><a href="Point.html">Point</a></li><li><a href="RectTransform.html">RectTransform</a></li><li><a href="Scene.html">Scene</a></li><li><a href="Time.html">Time</a></li><li><a href="TriangleCollider.html">TriangleCollider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#main">main</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sun May 24 2020 12:33:34 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
