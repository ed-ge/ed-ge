<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: base/SceneManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: base/SceneManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Scene from "./Scene.js"
import GameObject from "./GameObject.js"
import Point from "./Point.js"
// import Globals from "./Globals.js"

const SceneManager = {
  /** Orginally from scene */

  scenes: [],
  Base: {},


  _currentSceneIndex: -1,



  get currentScene() {
    if (this._currentSceneIndex == -1) throw "Current scene index not set. Cannot get current scene."
    if (this.scenes.length == 0) throw "There are no scenes in the scene manager. Cannot get current scene."
    if (this._currentSceneIndex >= this.scenes.length) throw "Current scene index is out of bounds. Cannot get current scene."
    return this.scenes[this._currentSceneIndex];
  },

  set currentScene(argument) {
    if (typeof argument !== "string") throw new Error("The currentScene setter expects an instance  a string");

    let index = this.scenes.findIndex(i => i.name == argument);
    if (index != -1) {
      this._currentSceneIndex = index;
    }
    else throw "No scene has that name. Current scene index not set."
    this.scenes[this._currentSceneIndex].boot();
  },
  clearScenes() {
    if (arguments.length != 0) throw new Error("clearScenes does not take any arguments.")
    this.scenes = [];
    this._currentSceneIndex = -1;
  },

  addScene(scene) {
    if (arguments.length != 1 || !(scene instanceof Scene)) throw new Error("addScene expects one argument of type scene")

    if (!this.scenes.includes(scene))
      this.scenes.push(scene);
  },

  destroy(gameObject) {
    if (arguments.length != 1 || !(gameObject instanceof GameObject)) throw new Error("destroy expects one argument of type GameObject")

    this.currentScene.destroy(gameObject);
  },
  instantiate(gameObjectType, location, scale, rotation) {
    if (arguments.length != 4 ||
      !(typeof gameObjectType == "string") ||
      !(location instanceof Point) ||
      !(scale instanceof Point) ||
      !(typeof rotation == "number")

    ) throw new Error("SceneManager.instantiate expects four arguments of type string, Base.Point, Base.Point, and float")

    return this.Base.Serializer.instantiate({name:gameObjectType}, location, scale, rotation, this.currentScene);
    // return this.currentScene.instantiate(gameObjectType, location, scale, rotation, this.currentScene);
  }


}

export default SceneManager;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AABBCollider.html">AABBCollider</a></li><li><a href="Behavior.html">Behavior</a></li><li><a href="CameraComponent.html">CameraComponent</a></li><li><a href="CanvasComponent.html">CanvasComponent</a></li><li><a href="Component.html">Component</a></li><li><a href="ConvexCollider.html">ConvexCollider</a></li><li><a href="GameObject.html">GameObject</a></li><li><a href="Line.html">Line</a></li><li><a href="NameableParent.html">NameableParent</a></li><li><a href="Point.html">Point</a></li><li><a href="RectTransform.html">RectTransform</a></li><li><a href="Scene.html">Scene</a></li><li><a href="Time.html">Time</a></li><li><a href="TriangleCollider.html">TriangleCollider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#main">main</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Jun 17 2020 20:40:09 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
